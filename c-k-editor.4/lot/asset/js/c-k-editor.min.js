!function(e,t){function a(){l.forEach(function(e){var t=i&&i[e];t&&(t.setAttribute("data-value",t.value),t.value="HTML",t.parentNode.parentNode.style.display="none")})}function o(){l.forEach(function(e){var t=i&&i[e];t&&(t.value=t.getAttribute("data-value"),t.parentNode.parentNode.style.display="",t.removeAttribute("data-value"))})}function n(e){function t(e){return e=+e,("0"+e.toString(16)).slice(-2)}return-1==e.search("rgb")?e:(e=e.match(/^rgba?\(\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])\s*,\s*([01]?[0-9]?[0-9]|2[0-4][0-9]|25[0-5])(?:\s*,\s*([01]|0?\.\d+))?\)$/),"#"+t(e[1])+t(e[2])+t(e[3]))}var i=t.forms&&t.forms.editor,r=["data[content]","page[content]"],l=["data[type]","page[type]"];r.forEach(function(t){function r(){return this["<>"]}function l(){o(),this.editor&&this.editor.$&&this.editor.$.destroy()}function d(t){var o=this;return t=CKEDITOR.tools.extend({uiColor:n(e.getComputedStyle(o).getPropertyValue("background-color")),height:1.5*o.offsetHeight,allowedContent:{$1:{elements:CKEDITOR.dtd,attributes:!0,styles:!0,classes:!0},"table thead tbody tfoot tr th td":{attributes:"class,id,style,summary"}}},t||{},!0),o.editor.$=CKEDITOR.replace(o,t),o.editor.$.on("blur",function(){this.updateElement()}),a(),o.editor.$}var s=i&&i[t];s&&(s.editor&&"function"==typeof s.editor.reset&&s.editor.reset(),s.editor={"<>":s},d.call(s),s.editor.get=r,s.editor.reset=function(){l.call(this["<>"])},s.editor.set=function(e){return d.call(this["<>"],e)})})}(window,document);